---
import { getCollection } from 'astro:content';
import FormattedDate from '../../components/formatted_date.astro';
import Layout from '../../layouts/single_column.astro';

const posts = (await getCollection('blog')).sort(
	(a: any, b: any) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout
  title="me treasures"
	description="hey it the weblog of forrest baer"
>
  <p>log of collected ideas and experimentations</p>
<ul>
  {
    posts.map((post: any) => (
      <li class="post">
        <a href={`/blog/${post.slug}/`}>
        <div class="date"><FormattedDate date={post.data.pubDate} /></div>
        <div class="title">{post.data.title} </div>
        <p>{post.data.description}</p>
        </a>
      </li>
    ))
  }
</ul>
</Layout>

<style>
ul {
  list-style: none;
  margin: 1rem 0;
  padding: 0;
}
.post {
  margin-bottom: 2ch;
}
.post .title {
  background: var(--gray-light);
  color: var(--black);
  padding: 0 0.8ch;
  display: inline-block;
  font-size: 1.3rem;
}
.post a {
  color: var(--white);
}
.post a:hover {
  color: var(--primary);
  text-decoration: none;
}
.post p {
  margin: 0;
  line-height: 1.3rem;
  padding: 0.4rem 0 0 1ch;
}
.post .date {
  color:var(--gray);
  font-size: 0.8rem;
  padding-left: 1ch;
}
</style>

